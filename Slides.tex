\documentclass{beamer}

\usetheme{Frankfurt}
\beamertemplatenavigationsymbolsempty
\setbeamertemplate{footline}[frame number]

\usepackage[english]{babel}
\usepackage[babel]{csquotes}
\usepackage[utf8x]{inputenc}
\usepackage{listings}
\usepackage{color}
\definecolor{lightgray}{rgb}{0.98, 0.98, 0.98}
\definecolor{darkgray}{rgb}{0.4, 0.4, 0.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}
\definecolor{darkgreen}{cmyk}{0.7, 0, 1, 0.5}

\lstdefinelanguage{JavaScript}{
  morekeywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, for, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={this, self},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}[keywords,comments,strings]

\lstset{
  language=JavaScript,
  basicstyle=\ttfamily,
  numbers=left,
  numberstyle=\small,
  numbersep=5pt,
  backgroundcolor=\color{lightgray},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  frame=lines,
  framesep=2mm,
  tabsize=4,
  captionpos=b,
  breaklines=true,
  breakatwhitespace=true,
  numberbychapter=false,
  aboveskip=0.75cm,
  belowskip=0.5cm,
  inputencoding=utf8
}

\hypersetup{pdfpagemode=FullScreen}

\date{\today}
\subject{Re-design and modernization of Indico's JavaScript framework}
\title{Re-design and modernization of Indico's JavaScript framework}
\author{Adrian Mönnich}
\institute[Hochschule Karlsruhe and CERN]{
  Fakultät für Informatik und Wirtschaftsinformatik\\
  Hochschule Karlsruhe
  \and
  IT-UDS-AVC\\
  CERN
}



\begin{document}
\maketitle
\section*{Overview}
\frame{\tableofcontents}

\section{Introduction}
\begin{frame}
  \frametitle{Introduction}
  \begin{itemize}
    \item Indico makes heavy use of JavaScript
    \item Used for AJAX, form validation, conference timetables, \ldots
    \item All JS code has about 37000 LOC
    \item 8000 LOC used by the \emph{Presentation} framework
    \item Almost no existing third-party code is used
  \end{itemize}
\end{frame}

\section{The Presentation Framework}
\begin{frame}
  \frametitle{What is the \enquote{Presentation Framework}?}
  \begin{itemize}
    \item \emph{Presentation} is the Indico-specific JavaScript framework
    \item It is not specialized to a single use case such as AJAX or DOM handling
    \item It consists of several modules:
    \begin{itemize}
      \item Core: object system, iterators, utility functions
      \item Data: data binding, JSON RPC, Date utilities
      \item UI: DOM access/manipulation
      \begin{itemize}
        \item Draw: SVG/VRML generation
        \item Extensions: some additional DOM methods
        \item Style: additional CSS-related DOM methods
        \item Widgets: functions to combine elements into widgets
      \end{itemize}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Why do we need to improve or even replace it?}
  \begin{itemize}
    \item It's hard for new developers to get used to it
      \begin{itemize}
        \item Many different developers worked on it without a common coding style
        \item There is no documentation except a few comments in the code
        \item Inconsistent API
      \end{itemize}
    \item It has some issues which might easily result in actual bugs
      \begin{itemize}
        \item Contains dead/unfinished code
        \item Developers have to take care of browser-specific differences
        \item Global variable leaking
      \end{itemize}
    \item Parts of the framework are mixed with the Indico code and thus not in the appropriate
      folder
  \end{itemize}
  \begin{alertblock}{Global variable leaking}
    \lstinline{for(i in parts)}\\
    The loop variable should be prefixed with \lstinline{var}
  \end{alertblock}
\end{frame}

\section{Modern Frameworks}
\begin{frame}
  \frametitle{Modern Frameworks}
  \begin{itemize}
    \item There are \textbf{many} frameworks available:
    \begin{itemize}
      \item Prototype/Scriptaculous
      \item jQuery/jQuery UI
      \item ExtJS
      \item Dojo
      \item qooxdoo
      \item \ldots
    \end{itemize}
    \item While having some differences \ldots
    \item \ldots they do share some common goals
    \begin{itemize}
      \item Provide an easy way to access the DOM
      \item Eliminate or reduce the need for browser-specific code
      \item Provide wrappers to make the use of AJAX easy and comfortable
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Advanced Features}
  Besides the common goals, each framework primarily focuses on certain areas and provide additional
  features
  \begin{itemize}
    \item jQuery: simple, intuitive functions; method chaining; \enquote{write less, do more}
    \item Prototype: class-based toolkit; extending prototypes; \enquote{ease development of
      dynamic web applications}
    \item ExtJS: rich webapps; \enquote{amazing apps built on web standards}
    \item Dojo: general-purpose toolkit; UI widgets
    \item qooxdoo: rich webapps
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Problems}
  Some of those frameworks have problems which make them undesirable for integration in Indico
  \begin{itemize}
    \item Naming conflicts with existing code - easy to fix but still annoying
    \item Invasive, e.g. by modifying prototypes (Prototype) - may cause issues with existing code,
      hard to maintain
    \item Hard to integrate into existing code (qooxdoo, ExtJS) - these frameworks are usually easy
      to use when developing something from scratch but hard to combine with existing code
    \item Need for generated code (qooxdoo) - makes development more complicated than necessary and
      with a dynamic language such as JavaScript there should be no need for generated code
  \end{itemize}
\end{frame}

\section{jQuery}
\begin{frame}
  \frametitle{Why did we choose jQuery?}
  It has various advantages over different frameworks/libraries:
  \begin{itemize}
    \item Most comfortable DOM access via \lstinline{$('selector')}
    \item Contains important widgets such as \emph{Dialog}, \emph{Tab} and \emph{Datepicker}
    \item Easy access to HTML5 \emph{data} attributes: reduces the need for inline JavaScript
  \end{itemize}
\end{frame}

\section{Current State}
\begin{frame}
  \frametitle{Current State}
  TODO
\end{frame}

\section{Conclusion}
\begin{frame}
  \frametitle{Conclusion}
  TODO
\end{frame}

\end{document}
